<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Don't rewrite if it's a real file or directory
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # Exclude /api and /health calls from SPA rewrite
  RewriteCond %{REQUEST_URI} !^/api/
  RewriteCond %{REQUEST_URI} !^/health$

  # Route all other requests to index.html for client-side routing
  RewriteRule ^(?!dist/).*$ dist/index.html [QSA,L]
</IfModule>
